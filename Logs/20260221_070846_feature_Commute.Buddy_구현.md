# Commute.Buddy 구현

**날짜**: 2026-02-21
**태그**: feature
**커밋**: `(커밋 후 기입)`

---

## Commute.Buddy (Automation)

### 기능
- **WiFi SSID 기반 장소 자동 인식**: `netsh wlan show interfaces` 30초 폴링
- **장소별 루틴 자동 실행**: 도착/퇴근 시 StayAwake 시작·정지, 앱 실행·종료
- **출퇴근 시간 자동 기록**: `%LocalAppData%\CommuteBuddy\logs\YYYY-MM.json`
- **재택 모드**: 설정한 시각에 집 WiFi 연결 감지 시 자동으로 재택 근무 시작
- **월별 통계 창**: 장소별 출근 일수, 평균 도착/퇴근 시간 집계
- **설정 창**: 장소 편집, SSID 등록, 도착·퇴근 루틴 설정, StayAwake 경로 설정

### 핵심 설계
| 파일 | 역할 |
|------|------|
| `Services/WifiMonitor.cs` | `netsh` 폴링 30초, SSID 변경 이벤트 발생 |
| `Services/RoutineEngine.cs` | StayAwake 시작·정지, 앱 실행·종료 |
| `Services/CommuteLogger.cs` | `%LocalAppData%` JSON 월별 로그 |
| `Services/SettingsService.cs` | `%LocalAppData%` JSON 설정 저장/로드 |
| `Views/SettingsWindow.xaml` | 장소 목록(좌) + 상세 편집(우) + 일반 설정 하단 |
| `Views/StatsWindow.xaml` | 월 네비게이션 + 장소별 요약 + 전체 로그 DataGrid |
| `App.xaml.cs` | 트레이 앱, SSID 변경 처리, 재택 모드 타이머 |

### 기본 장소 (최초 실행 시 자동 생성)
| 장소 | 이모지 | 기본 도착 루틴 | 기본 퇴근 루틴 |
|------|--------|---------------|---------------|
| 회사 | 🏢 | StayAwake 시작 | StayAwake 정지 |
| 집   | 🏠 | (사용자 설정) | (사용자 설정) |
| 카페 | ☕ | (사용자 설정) | (사용자 설정) |

### 해결한 오류
- `(int, int)` 튜플에서 `.Year`/`.Month` 접근 불가 → `.Item1`/`.Item2`로 수정
- `OpenFileDialog` 모호성 (WinForms vs WPF) → `Microsoft.Win32.OpenFileDialog` 명시

---

## 솔루션 등록

- `Playground.sln`: Automation 폴더에 추가
- `Playground.slnx`: Automation 폴더에 추가
- `+publish-all.cmd`: `call :pub "Commute.Buddy"` 추가

---

## 빌드 결과

```
솔루션 전체 (16 프로젝트): 경고 0 / 오류 0
```
