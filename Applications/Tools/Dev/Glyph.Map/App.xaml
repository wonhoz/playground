<Application x:Class="GlyphMap.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
  <Application.Resources>

    <!-- ── 기본 색상 ──────────────────────────────────────────────── -->
    <SolidColorBrush x:Key="BgBase"      Color="#1A1A2E"/>
    <SolidColorBrush x:Key="BgPanel"     Color="#16213E"/>
    <SolidColorBrush x:Key="BgCard"      Color="#0F3460"/>
    <SolidColorBrush x:Key="BgHover"     Color="#1A4A7A"/>
    <SolidColorBrush x:Key="BgSelected"  Color="#E94560"/>
    <SolidColorBrush x:Key="BgInput"     Color="#0D1B2A"/>
    <SolidColorBrush x:Key="BgSurface"   Color="#1E2A3A"/>
    <SolidColorBrush x:Key="AccentGreen" Color="#00D4AA"/>
    <SolidColorBrush x:Key="AccentBlue"  Color="#4FC3F7"/>
    <SolidColorBrush x:Key="TextMain"    Color="#E8EAF0"/>
    <SolidColorBrush x:Key="TextSub"     Color="#8892A4"/>
    <SolidColorBrush x:Key="Border"      Color="#2A3A4A"/>

    <!-- ── ScrollBar 다크 테마 ───────────────────────────────────────── -->
    <Style TargetType="ScrollBar">
      <Setter Property="Background" Value="#1A1A2E"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ScrollBar">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>
              <!-- Up Button -->
              <RepeatButton Grid.Row="0" Command="ScrollBar.LineUpCommand"
                            Background="#1E2A3A" BorderThickness="0" Height="16">
                <Path Data="M 0 4 L 4 0 L 8 4" Stroke="#4A5A6A" StrokeThickness="1.5"
                      HorizontalAlignment="Center" VerticalAlignment="Center"/>
              </RepeatButton>
              <!-- Track -->
              <Track Grid.Row="1" Name="PART_Track" IsDirectionReversed="True">
                <Track.DecreaseRepeatButton>
                  <RepeatButton Command="ScrollBar.PageUpCommand"
                                Background="Transparent" BorderThickness="0" Opacity="0"/>
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                  <Thumb>
                    <Thumb.Template>
                      <ControlTemplate TargetType="Thumb">
                        <Border Background="#3A4A5A" CornerRadius="3" Margin="2,0"/>
                      </ControlTemplate>
                    </Thumb.Template>
                  </Thumb>
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                  <RepeatButton Command="ScrollBar.PageDownCommand"
                                Background="Transparent" BorderThickness="0" Opacity="0"/>
                </Track.IncreaseRepeatButton>
              </Track>
              <!-- Down Button -->
              <RepeatButton Grid.Row="2" Command="ScrollBar.LineDownCommand"
                            Background="#1E2A3A" BorderThickness="0" Height="16">
                <Path Data="M 0 0 L 4 4 L 8 0" Stroke="#4A5A6A" StrokeThickness="1.5"
                      HorizontalAlignment="Center" VerticalAlignment="Center"/>
              </RepeatButton>
            </Grid>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── ScrollViewer ──────────────────────────────────────────────── -->
    <Style TargetType="ScrollViewer">
      <Setter Property="Background" Value="Transparent"/>
    </Style>

    <!-- ── CheckBox 다크 ─────────────────────────────────────────────── -->
    <Style TargetType="CheckBox">
      <Setter Property="Foreground" Value="{StaticResource TextMain}"/>
      <Setter Property="FontFamily" Value="Segoe UI"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="CheckBox">
            <StackPanel Orientation="Horizontal">
              <Border Width="16" Height="16" CornerRadius="3"
                      BorderBrush="#3A4A5A" BorderThickness="1.5"
                      Background="{StaticResource BgInput}">
                <Path x:Name="Check" Data="M 2 7 L 6 11 L 14 3"
                      Stroke="{StaticResource AccentGreen}" StrokeThickness="2"
                      Visibility="Collapsed"/>
              </Border>
              <ContentPresenter Margin="6,0,0,0" VerticalAlignment="Center"/>
            </StackPanel>
            <ControlTemplate.Triggers>
              <Trigger Property="IsChecked" Value="True">
                <Setter TargetName="Check" Property="Visibility" Value="Visible"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── TreeView 다크 ─────────────────────────────────────────────── -->
    <Style TargetType="TreeView">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Foreground" Value="{StaticResource TextMain}"/>
    </Style>
    <Style TargetType="TreeViewItem">
      <Setter Property="Foreground" Value="{StaticResource TextMain}"/>
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="FontFamily" Value="Segoe UI"/>
      <Setter Property="FontSize" Value="12"/>
      <Setter Property="Padding" Value="4,3"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TreeViewItem">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
              </Grid.RowDefinitions>
              <Border x:Name="Bd" Grid.Row="0"
                      Background="{TemplateBinding Background}"
                      BorderThickness="0" CornerRadius="4"
                      Padding="{TemplateBinding Padding}">
                <ContentPresenter x:Name="PART_Header"
                                  ContentSource="Header"
                                  HorizontalAlignment="Left"/>
              </Border>
              <ItemsPresenter x:Name="ItemsHost" Grid.Row="1" Margin="12,0,0,0"/>
            </Grid>
            <ControlTemplate.Triggers>
              <Trigger Property="IsSelected" Value="True">
                <Setter TargetName="Bd" Property="Background" Value="{StaticResource BgSelected}"/>
              </Trigger>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="Bd" Property="Background" Value="{StaticResource BgHover}"/>
              </Trigger>
              <Trigger Property="IsExpanded" Value="False">
                <Setter TargetName="ItemsHost" Property="Visibility" Value="Collapsed"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── 공통 버튼 ─────────────────────────────────────────────────── -->
    <Style x:Key="DarkBtn" TargetType="Button">
      <Setter Property="Background" Value="{StaticResource BgSurface}"/>
      <Setter Property="Foreground" Value="{StaticResource TextMain}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
      <Setter Property="FontFamily" Value="Segoe UI"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="6" Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource BgHover}"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="{StaticResource BgCard}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style x:Key="AccentBtn" TargetType="Button" BasedOn="{StaticResource DarkBtn}">
      <Setter Property="Background" Value="{StaticResource AccentGreen}"/>
      <Setter Property="Foreground" Value="#0A0A0A"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background" Value="#00F0C0"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <!-- ── TextBox 다크 ──────────────────────────────────────────────── -->
    <Style TargetType="TextBox">
      <Setter Property="Background" Value="{StaticResource BgInput}"/>
      <Setter Property="Foreground" Value="{StaticResource TextMain}"/>
      <Setter Property="CaretBrush" Value="{StaticResource AccentGreen}"/>
      <Setter Property="BorderBrush" Value="{StaticResource Border}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="FontFamily" Value="Segoe UI"/>
      <Setter Property="Padding" Value="8,4"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TextBox">
            <Border Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="6">
              <ScrollViewer x:Name="PART_ContentHost" Margin="0"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsFocused" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource AccentGreen}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

  </Application.Resources>
</Application>
