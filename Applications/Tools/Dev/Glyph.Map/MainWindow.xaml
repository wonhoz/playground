<Window x:Class="GlyphMap.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Glyph.Map"
        Width="1060" Height="720"
        MinWidth="900" MinHeight="580"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResizeWithGrip"
        Background="{StaticResource BgBase}">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="52"/>   <!-- ìƒë‹¨ íˆ´ë°” -->
      <RowDefinition Height="*"/>    <!-- ë³¸ë¬¸ -->
      <RowDefinition Height="Auto"/> <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ ì˜ì—­ -->
    </Grid.RowDefinitions>

    <!-- â”€â”€ ìƒë‹¨ íˆ´ë°” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <Border Grid.Row="0" Background="{StaticResource BgPanel}"
            BorderBrush="{StaticResource Border}" BorderThickness="0,0,0,1">
      <Grid Margin="16,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- ë¡œê³  -->
        <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
          <TextBlock Text="ðŸ”¤" FontSize="22" VerticalAlignment="Center"/>
          <TextBlock Text=" Glyph.Map"
                     FontFamily="Segoe UI" FontSize="15" FontWeight="SemiBold"
                     Foreground="{StaticResource AccentGreen}"
                     VerticalAlignment="Center" Margin="4,0,0,0"/>
        </StackPanel>

        <!-- ê²€ìƒ‰ -->
        <Grid Grid.Column="1" Margin="24,0">
          <TextBox x:Name="TxtSearch"
                   FontSize="13" Height="34" VerticalContentAlignment="Center"
                   ToolTip="ë¬¸ìž ì´ë¦„, í‚¤ì›Œë“œ(heart, í™”ì‚´, bullet), U+ì½”ë“œí¬ì¸íŠ¸(U+1F600)ìœ¼ë¡œ ê²€ìƒ‰"
                   TextChanged="TxtSearch_TextChanged"/>
          <TextBlock x:Name="SearchPlaceholder"
                     Text="ðŸ”  ì´ë¦„Â·í‚¤ì›Œë“œÂ·U+ì½”ë“œí¬ì¸íŠ¸ ê²€ìƒ‰..."
                     FontFamily="Segoe UI" FontSize="12"
                     Foreground="{StaticResource TextSub}"
                     VerticalAlignment="Center" Margin="12,0"
                     IsHitTestVisible="False"/>
        </Grid>

        <!-- ì˜¤ë¥¸ìª½ ë²„íŠ¼ë“¤ -->
        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
          <Button x:Name="BtnFavorites" Content="â˜… ì¦ê²¨ì°¾ê¸°"
                  Style="{StaticResource DarkBtn}" Padding="10,6"
                  FontFamily="Segoe UI" FontSize="12"
                  Click="BtnFavorites_Click"
                  ToolTip="ì¦ê²¨ì°¾ê¸° ëª©ë¡ ë³´ê¸°"/>
          <Button x:Name="BtnRecent" Content="ðŸ• ìµœê·¼"
                  Style="{StaticResource DarkBtn}" Padding="10,6" Margin="8,0,0,0"
                  FontFamily="Segoe UI" FontSize="12"
                  Click="BtnRecent_Click"
                  ToolTip="ìµœê·¼ ì‚¬ìš© ë¬¸ìž ë³´ê¸°"/>
        </StackPanel>
      </Grid>
    </Border>

    <!-- â”€â”€ ë³¸ë¬¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <Grid Grid.Row="1">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="220" MinWidth="160"/>
        <ColumnDefinition Width="Auto"/>  <!-- Splitter -->
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>  <!-- Splitter -->
        <ColumnDefinition Width="280" MinWidth="220"/>
      </Grid.ColumnDefinitions>

      <!-- â”€â”€ ì¢Œì¸¡: ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
      <Border Grid.Column="0" Background="{StaticResource BgPanel}"
              BorderBrush="{StaticResource Border}" BorderThickness="0,0,1,0">
        <DockPanel>
          <TextBlock DockPanel.Dock="Top"
                     Text="ì¹´í…Œê³ ë¦¬" FontFamily="Segoe UI" FontSize="11"
                     FontWeight="SemiBold" Foreground="{StaticResource TextSub}"
                     Margin="12,10,12,6"/>
          <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <TreeView x:Name="CategoryTree" Margin="4,0,4,8"
                      SelectedItemChanged="CategoryTree_SelectedItemChanged"/>
          </ScrollViewer>
        </DockPanel>
      </Border>

      <GridSplitter Grid.Column="1" Width="4"
                    Background="{StaticResource Border}"
                    HorizontalAlignment="Center" VerticalAlignment="Stretch"/>

      <!-- â”€â”€ ì¤‘ì•™: ë¬¸ìž ê²©ìž â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
      <Border Grid.Column="2" Background="{StaticResource BgBase}">
        <DockPanel>
          <!-- í˜„ìž¬ ë¸”ë¡ ì´ë¦„ + ê°œìˆ˜ -->
          <Border DockPanel.Dock="Top" Background="{StaticResource BgPanel}"
                  BorderBrush="{StaticResource Border}" BorderThickness="0,0,0,1"
                  Padding="12,6">
            <StackPanel Orientation="Horizontal">
              <TextBlock x:Name="TxtCurrentBlock"
                         Text="ë¸”ë¡ ì„ íƒ ì¤‘..."
                         FontFamily="Segoe UI" FontSize="12" FontWeight="SemiBold"
                         Foreground="{StaticResource TextMain}"/>
              <TextBlock x:Name="TxtGlyphCount"
                         FontFamily="Segoe UI" FontSize="11"
                         Foreground="{StaticResource TextSub}"
                         Margin="8,0,0,0" VerticalAlignment="Bottom"/>
            </StackPanel>
          </Border>

          <!-- ë¬¸ìž ê²©ìž (ê°€ìƒí™”) -->
          <ScrollViewer VerticalScrollBarVisibility="Auto"
                        HorizontalScrollBarVisibility="Disabled"
                        PreviewMouseWheel="GridScroll_MouseWheel">
            <ListBox x:Name="GlyphGrid"
                     Background="Transparent" BorderThickness="0"
                     SelectionChanged="GlyphGrid_SelectionChanged"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     VirtualizingStackPanel.IsVirtualizing="True"
                     VirtualizingStackPanel.VirtualizationMode="Recycling">
              <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                  <Setter Property="Padding" Value="0"/>
                  <Setter Property="Margin" Value="0"/>
                  <Setter Property="Background" Value="Transparent"/>
                  <Setter Property="BorderThickness" Value="0"/>
                  <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                  <Setter Property="Template">
                    <Setter.Value>
                      <ControlTemplate TargetType="ListBoxItem">
                        <ContentPresenter/>
                      </ControlTemplate>
                    </Setter.Value>
                  </Setter>
                </Style>
              </ListBox.ItemContainerStyle>
            </ListBox>
          </ScrollViewer>
        </DockPanel>
      </Border>

      <GridSplitter Grid.Column="3" Width="4"
                    Background="{StaticResource Border}"
                    HorizontalAlignment="Center" VerticalAlignment="Stretch"/>

      <!-- â”€â”€ ìš°ì¸¡: ìƒì„¸ íŒ¨ë„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
      <Border Grid.Column="4" Background="{StaticResource BgPanel}"
              BorderBrush="{StaticResource Border}" BorderThickness="1,0,0,0">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
          <StackPanel x:Name="DetailPanel" Margin="16,16,16,16">

            <!-- ë¬¸ìž ëŒ€í˜• í‘œì‹œ -->
            <Border Background="{StaticResource BgBase}" CornerRadius="12"
                    Height="110" Margin="0,0,0,14">
              <TextBlock x:Name="TxtBigChar"
                         Text="â€”" FontSize="64"
                         FontFamily="Segoe UI Emoji, Segoe UI Symbol, Segoe UI"
                         Foreground="{StaticResource TextMain}"
                         HorizontalAlignment="Center" VerticalAlignment="Center"
                         ToolTip="í´ë¦­í•˜ì—¬ ë¬¸ìž ë³µì‚¬"/>
            </Border>

            <!-- ì½”ë“œí¬ì¸íŠ¸ + ì´ë¦„ -->
            <TextBlock x:Name="TxtCodePoint"
                       FontFamily="Segoe UI Mono, Consolas" FontSize="13"
                       Foreground="{StaticResource AccentGreen}"
                       Margin="0,0,0,4"/>
            <TextBlock x:Name="TxtGlyphName"
                       FontFamily="Segoe UI" FontSize="12" FontWeight="SemiBold"
                       Foreground="{StaticResource TextMain}"
                       TextWrapping="Wrap" Margin="0,0,0,2"/>
            <TextBlock x:Name="TxtGlyphBlock"
                       FontFamily="Segoe UI" FontSize="11"
                       Foreground="{StaticResource TextSub}"
                       TextWrapping="Wrap" Margin="0,0,0,12"/>

            <!-- êµ¬ë¶„ì„  -->
            <Border Height="1" Background="{StaticResource Border}" Margin="0,0,0,12"/>

            <!-- ë³µì‚¬ í˜•ì‹ ì„ íƒ -->
            <TextBlock Text="ë³µì‚¬ í˜•ì‹" FontFamily="Segoe UI" FontSize="11"
                       FontWeight="SemiBold" Foreground="{StaticResource TextSub}"
                       Margin="0,0,0,8"/>
            <StackPanel x:Name="CopyFormatPanel" Margin="0,0,0,12">
              <RadioButton x:Name="RbChar"     Content="ë¬¸ìž ê·¸ëŒ€ë¡œ"         IsChecked="True" Margin="0,2"/>
              <RadioButton x:Name="RbHex"      Content="U+HHHH (ìœ ë‹ˆì½”ë“œ)"  Margin="0,2"/>
              <RadioButton x:Name="RbHtml"     Content="&#x26;#xHHHH; (HTML)" Margin="0,2"/>
              <RadioButton x:Name="RbCs"       Content="\uHHHH (C#/Java)"   Margin="0,2"/>
              <RadioButton x:Name="RbCss"      Content="\HHHH (CSS content)" Margin="0,2"/>
              <RadioButton x:Name="RbUrl"      Content="%uHHHH (URL)"        Margin="0,2"/>
            </StackPanel>

            <!-- ë³µì‚¬ ë¯¸ë¦¬ë³´ê¸° -->
            <Border Background="{StaticResource BgBase}" CornerRadius="6"
                    Padding="10,8" Margin="0,0,0,10">
              <TextBlock x:Name="TxtCopyPreview"
                         FontFamily="Segoe UI Mono, Consolas" FontSize="12"
                         Foreground="{StaticResource AccentBlue}"
                         TextWrapping="Wrap"/>
            </Border>

            <!-- ë³µì‚¬ + ì¦ê²¨ì°¾ê¸° ë²„íŠ¼ -->
            <Grid Margin="0,0,0,14">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="48"/>
              </Grid.ColumnDefinitions>
              <Button x:Name="BtnCopy" Grid.Column="0"
                      Content="ðŸ“‹  ë³µì‚¬" Style="{StaticResource AccentBtn}"
                      FontFamily="Segoe UI" FontSize="13" FontWeight="SemiBold"
                      Height="40" Click="BtnCopy_Click"/>
              <Button x:Name="BtnFav" Grid.Column="2"
                      Content="â˜†" Style="{StaticResource DarkBtn}"
                      FontFamily="Segoe UI Symbol" FontSize="18"
                      Height="40" Click="BtnFav_Click"
                      ToolTip="ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€/ì œê±°"/>
            </Grid>

            <!-- êµ¬ë¶„ì„  -->
            <Border Height="1" Background="{StaticResource Border}" Margin="0,0,0,12"/>

            <!-- ëª¨ë“  í˜•ì‹ í‘œ -->
            <TextBlock Text="ì „ì²´ í˜•ì‹" FontFamily="Segoe UI" FontSize="11"
                       FontWeight="SemiBold" Foreground="{StaticResource TextSub}"
                       Margin="0,0,0,8"/>
            <ItemsControl x:Name="FormatTable">
              <ItemsControl.ItemTemplate>
                <DataTemplate>
                  <Grid Margin="0,2">
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="80"/>
                      <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="{Binding Label}"
                               FontFamily="Segoe UI" FontSize="11"
                               Foreground="{StaticResource TextSub}"/>
                    <TextBlock Grid.Column="1" Text="{Binding Value}"
                               FontFamily="Segoe UI Mono, Consolas" FontSize="11"
                               Foreground="{StaticResource TextMain}"
                               TextWrapping="Wrap"
                               MouseLeftButtonDown="FormatValue_Click"
                               Cursor="Hand" ToolTip="í´ë¦­í•˜ì—¬ ë³µì‚¬"/>
                  </Grid>
                </DataTemplate>
              </ItemsControl.ItemTemplate>
            </ItemsControl>

          </StackPanel>
        </ScrollViewer>
      </Border>
    </Grid>

    <!-- â”€â”€ ë¡œë”© ì˜¤ë²„ë ˆì´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <Grid Grid.Row="0" Grid.RowSpan="3" x:Name="LoadingOverlay"
          Background="#CC1A1A2E">
      <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
        <TextBlock Text="ðŸ”¤" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,16"/>
        <TextBlock Text="ìœ ë‹ˆì½”ë“œ ë°ì´í„° ë¡œë”© ì¤‘..."
                   FontFamily="Segoe UI" FontSize="16" FontWeight="SemiBold"
                   Foreground="{StaticResource TextMain}"
                   HorizontalAlignment="Center" Margin="0,0,0,8"/>
        <TextBlock x:Name="TxtLoadProgress"
                   Text="ìž ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”..."
                   FontFamily="Segoe UI" FontSize="12"
                   Foreground="{StaticResource TextSub}"
                   HorizontalAlignment="Center"/>
      </StackPanel>
    </Grid>

  </Grid>
</Window>
