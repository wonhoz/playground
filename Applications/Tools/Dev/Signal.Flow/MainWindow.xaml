<Window x:Class="SignalFlow.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Signal.Flow" Height="680" Width="1100"
        MinHeight="480" MinWidth="820"
        Background="#0A0F14"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="190"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- â•â• ì¢Œì¸¡ íŒ¨ë„ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Border Grid.Column="0"
                Background="#0F1923"
                BorderBrush="#1E3040" BorderThickness="0,0,1,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="12,14,12,12">

                    <!-- ì•± íƒ€ì´í‹€ -->
                    <TextBlock Text="Signal.Flow"
                               Foreground="#06B6D4" FontSize="16" FontWeight="Bold"/>
                    <TextBlock Text="ì„œë²„ í‘¸ì‹œ ê¸°ìˆ  ë¹„êµ"
                               Foreground="#6A8898" FontSize="11" Margin="0,2,0,0"/>

                    <Separator Margin="0,12,0,12" Background="#1E3040"/>

                    <!-- í¬íŠ¸ ì„¤ì • -->
                    <TextBlock Text="í¬íŠ¸" Foreground="#6A8898" FontSize="11" Margin="0,0,0,4"/>
                    <TextBox x:Name="TxtPort" Text="8080" Height="28"
                             VerticalContentAlignment="Center"/>

                    <!-- ì„œë²„ ì‹œìž‘/ì¤‘ì§€ -->
                    <Button x:Name="BtnToggle" Content="â–¶  ì„œë²„ ì‹œìž‘"
                            Height="32" Margin="0,8,0,0"
                            Click="BtnToggle_Click"/>

                    <!-- ì„œë²„ ìƒíƒœ -->
                    <TextBlock x:Name="TxtServerUrl"
                               Foreground="#6A8898" FontSize="10"
                               TextWrapping="Wrap" Margin="0,6,0,0"/>

                    <Separator Margin="0,12,0,12" Background="#1E3040"/>

                    <!-- ì´ë²¤íŠ¸ ë°œìƒ -->
                    <TextBlock Text="ì´ë²¤íŠ¸ ë°œìƒ"
                               Foreground="#6A8898" FontSize="11" Margin="0,0,0,8"/>

                    <Button x:Name="BtnNotify" Content="ðŸ“¢  ì•Œë¦¼ ë°œì†¡"
                            Height="30" Margin="0,0,0,6"
                            IsEnabled="False"
                            Click="BtnNotify_Click"/>

                    <Button x:Name="BtnUpdate" Content="ðŸ”„  ë°ì´í„° ì—…ë°ì´íŠ¸"
                            Height="30" Margin="0,0,0,6"
                            Style="{StaticResource SuccessBtn}"
                            IsEnabled="False"
                            Click="BtnUpdate_Click"/>

                    <Button x:Name="BtnWarn" Content="âš ï¸  ê²½ê³  ë°œì†¡"
                            Height="30" Margin="0,0,0,6"
                            Style="{StaticResource WarnBtn}"
                            IsEnabled="False"
                            Click="BtnWarn_Click"/>

                    <Button x:Name="BtnError" Content="ðŸ”´  ì˜¤ë¥˜ ë°œì†¡"
                            Height="30" Margin="0,0,0,0"
                            Style="{StaticResource DangerBtn}"
                            IsEnabled="False"
                            Click="BtnError_Click"/>

                    <Separator Margin="0,12,0,12" Background="#1E3040"/>

                    <!-- ìžë™ ì´ë²¤íŠ¸ -->
                    <TextBlock Text="ìžë™ ì´ë²¤íŠ¸"
                               Foreground="#6A8898" FontSize="11" Margin="0,0,0,8"/>
                    <CheckBox x:Name="ChkAuto" Content="3ì´ˆë§ˆë‹¤ ëžœë¤ ë°œì†¡"
                              IsEnabled="False"
                              Checked="ChkAuto_Checked"
                              Unchecked="ChkAuto_Unchecked"/>

                    <Separator Margin="0,12,0,8" Background="#1E3040"/>

                    <!-- ë¡œê·¸ ì´ˆê¸°í™” -->
                    <Button x:Name="BtnClear" Content="ðŸ—‘  ë¡œê·¸ ì´ˆê¸°í™”"
                            Height="28"
                            Style="{StaticResource SecondaryBtn}"
                            Click="BtnClear_Click"/>

                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- â•â• ìŠ¤í”Œë¦¬í„° â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch"/>

        <!-- â•â• ìš°ì¸¡ íŒ¨ë„ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <Grid Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- ì´ë²¤íŠ¸ ë¡œê·¸ ë‘ ì»¬ëŸ¼ -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="1"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- SignalR ì»¬ëŸ¼ -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- SignalR í—¤ë” -->
                    <Border Grid.Row="0"
                            Background="#0F1923"
                            BorderBrush="#1E3040" BorderThickness="0,0,0,1"
                            Padding="12,8">
                        <DockPanel>
                            <Ellipse x:Name="DotSR" Width="8" Height="8"
                                     Fill="#EF4444" VerticalAlignment="Center"
                                     Margin="0,0,8,0"/>
                            <TextBlock Text="SignalR"
                                       Foreground="#E0EEF0" FontSize="13" FontWeight="SemiBold"
                                       VerticalAlignment="Center"/>
                            <TextBlock x:Name="TxtSRStatus"
                                       Text="ëŠê¹€"
                                       Foreground="#6A8898" FontSize="11"
                                       VerticalAlignment="Center" Margin="8,0,0,0"/>
                            <TextBlock x:Name="TxtSRCount"
                                       DockPanel.Dock="Right"
                                       Foreground="#6A8898" FontSize="11"
                                       VerticalAlignment="Center"/>
                        </DockPanel>
                    </Border>

                    <!-- SignalR ë¡œê·¸ -->
                    <ListBox x:Name="LbSR" Grid.Row="1"
                             Background="#0A0F14"
                             BorderThickness="0"
                             VirtualizingPanel.IsVirtualizing="True"
                             VirtualizingPanel.VirtualizationMode="Recycling"
                             ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#131F2A" BorderThickness="0,0,0,1"
                                        Padding="10,5">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Background="{Binding BadgeColor}" CornerRadius="3"
                                                Padding="4,1" Margin="0,0,8,0" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding BadgeText}"
                                                       FontSize="9" FontWeight="Bold"
                                                       Foreground="#E0EEF0"/>
                                        </Border>
                                        <TextBlock Text="{Binding Time}"
                                                   Foreground="#445566" FontSize="11"
                                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding Message}"
                                                   Foreground="#C0D0D8" FontSize="12"
                                                   VerticalAlignment="Center"
                                                   TextTrimming="CharacterEllipsis"/>
                                        <TextBlock Text="{Binding Source}"
                                                   Foreground="#445566" FontSize="10"
                                                   VerticalAlignment="Center" Margin="8,0,0,0"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>

                <!-- ì»¬ëŸ¼ êµ¬ë¶„ì„  -->
                <Border Grid.Column="1" Background="#1E3040"/>

                <!-- SSE ì»¬ëŸ¼ -->
                <Grid Grid.Column="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- SSE í—¤ë” -->
                    <Border Grid.Row="0"
                            Background="#0F1923"
                            BorderBrush="#1E3040" BorderThickness="0,0,0,1"
                            Padding="12,8">
                        <DockPanel>
                            <Ellipse x:Name="DotSSE" Width="8" Height="8"
                                     Fill="#EF4444" VerticalAlignment="Center"
                                     Margin="0,0,8,0"/>
                            <TextBlock Text="SSE (EventSource)"
                                       Foreground="#E0EEF0" FontSize="13" FontWeight="SemiBold"
                                       VerticalAlignment="Center"/>
                            <TextBlock x:Name="TxtSSEStatus"
                                       Text="ëŠê¹€"
                                       Foreground="#6A8898" FontSize="11"
                                       VerticalAlignment="Center" Margin="8,0,0,0"/>
                            <TextBlock x:Name="TxtSSECount"
                                       DockPanel.Dock="Right"
                                       Foreground="#6A8898" FontSize="11"
                                       VerticalAlignment="Center"/>
                        </DockPanel>
                    </Border>

                    <!-- SSE ë¡œê·¸ -->
                    <ListBox x:Name="LbSSE" Grid.Row="1"
                             Background="#0A0F14"
                             BorderThickness="0"
                             VirtualizingPanel.IsVirtualizing="True"
                             VirtualizingPanel.VirtualizationMode="Recycling"
                             ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#131F2A" BorderThickness="0,0,0,1"
                                        Padding="10,5">
                                    <StackPanel Orientation="Horizontal">
                                        <Border Background="{Binding BadgeColor}" CornerRadius="3"
                                                Padding="4,1" Margin="0,0,8,0" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding BadgeText}"
                                                       FontSize="9" FontWeight="Bold"
                                                       Foreground="#E0EEF0"/>
                                        </Border>
                                        <TextBlock Text="{Binding Time}"
                                                   Foreground="#445566" FontSize="11"
                                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                                        <TextBlock Text="{Binding Message}"
                                                   Foreground="#C0D0D8" FontSize="12"
                                                   VerticalAlignment="Center"
                                                   TextTrimming="CharacterEllipsis"/>
                                        <TextBlock Text="{Binding Source}"
                                                   Foreground="#445566" FontSize="10"
                                                   VerticalAlignment="Center" Margin="8,0,0,0"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </Grid>

            <!-- í•˜ë‹¨ ìƒíƒœë°” -->
            <Border Grid.Row="1"
                    Background="#0F1923"
                    BorderBrush="#1E3040" BorderThickness="0,1,0,0"
                    Padding="12,5">
                <DockPanel>
                    <TextBlock x:Name="TxtStatusBar"
                               Text="ì„œë²„ ì¤‘ì§€ë¨"
                               Foreground="#6A8898" FontSize="11"
                               VerticalAlignment="Center"/>
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                        <TextBlock Text="ë¸Œë¼ìš°ì €: "
                                   Foreground="#6A8898" FontSize="11"
                                   VerticalAlignment="Center"/>
                        <TextBlock x:Name="TxtBrowserUrl"
                                   Foreground="#06B6D4" FontSize="11"
                                   VerticalAlignment="Center"
                                   Cursor="Hand"
                                   MouseLeftButtonDown="TxtBrowserUrl_Click"
                                   ToolTip="í´ë¦­í•˜ì—¬ ë¸Œë¼ìš°ì €ë¡œ ì—´ê¸°"/>
                        <Button x:Name="BtnCopyUrl"
                                Content="ë³µì‚¬"
                                Margin="8,0,0,0" Padding="6,2"
                                FontSize="10"
                                Style="{StaticResource SecondaryBtn}"
                                IsEnabled="False"
                                Click="BtnCopyUrl_Click"/>
                    </StackPanel>
                </DockPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
