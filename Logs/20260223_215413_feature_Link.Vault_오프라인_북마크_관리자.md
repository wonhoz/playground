# [feature] Link.Vault — 완전 오프라인 북마크 관리자 개발

- **일시**: 2026-02-23 21:46 ~ 21:54 KST
- **브랜치**: `feature/link-vault`
- **참고 아이디어**: `ideas/idea_20260223_050329.md` (#10 Link.Vault)

---

## 개요

브라우저에 종속되지 않는 **완전 오프라인 북마크 관리자**.
URL 저장 → HTML 스냅샷 → SQLite FTS5 전문 검색 + 태그 + 별점 + 읽음 상태.

---

## 구현 사항

### 프로젝트 구조
```
Applications/Tools/Link.Vault/
├── Link.Vault.csproj             # .NET 8.0 WPF, WebView2 + SQLite + HtmlAgilityPack
├── App.xaml / App.xaml.cs
├── MainWindow.xaml               # 3-패널 레이아웃 (태그 | 목록 | 미리보기)
├── MainWindow.xaml.cs            # 코드 비하인드
├── AddBookmarkDialog.xaml        # 북마크 추가/편집 다이얼로그
├── AddBookmarkDialog.xaml.cs
├── Models/
│   └── Bookmark.cs               # 북마크 모델 (Id, Url, Title, Tags, Stars, IsRead, SnapshotPath)
└── Services/
    ├── DatabaseService.cs        # SQLite + FTS5 전문 검색
    ├── SnapshotService.cs        # HttpClient HTML 저장 + HtmlAgilityPack 텍스트 추출
    └── ApiServerService.cs       # 로컬 HTTP 서버 (port 34567, 브라우저 확장 연동)
```

### 핵심 기능

| 기능 | 구현 방식 |
|------|-----------|
| 북마크 저장 | AddBookmarkDialog + 메타데이터 자동 가져오기 |
| 오프라인 스냅샷 | `HttpClient.GetStringAsync` + `<base>` 태그 삽입 → 로컬 HTML 저장 |
| 전문 검색 | SQLite FTS5 (`bookmarks_fts`) 트리거 자동 색인 |
| WebView2 미리보기 | 로컬 HTML 파일 or 플레이스홀더 렌더링 |
| 태그 필터 | 왼쪽 태그 패널 (빈도순 정렬) |
| 별점 | 0~5점, 클릭으로 설정/초기화 |
| 읽음 상태 | 토글 버튼 |
| 브라우저 확장 | `http://localhost:34567/add?url=...&title=...` |
| 미읽음/별점 필터 | 상단 필터 바 |

### NuGet 패키지
- `Microsoft.Data.Sqlite 8.0.11` — SQLite DB
- `HtmlAgilityPack 1.11.72` — HTML 파싱/텍스트 추출
- `Microsoft.Web.WebView2 1.0.3240.44` — 로컬 HTML 미리보기

### 데이터 저장 경로
- DB: `%APPDATA%\LinkVault\bookmarks.db`
- 스냅샷: `%APPDATA%\LinkVault\snapshots\{id}.html`
- 파비콘: `%APPDATA%\LinkVault\favicons\{id}.ico`

### 빌드 결과
- 경고: 0개 / 오류: 0개

---

## 변경된 파일

| 파일 | 변경 |
|------|------|
| `Playground.slnx` | `/Applications/Tools/Link.Vault` 프로젝트 추가 |
| `+publish-all.cmd` | `Link.Vault` 배포 항목 추가 (`LinkVault.exe`) |
| `Applications/Tools/Link.Vault/*` | 신규 프로젝트 전체 생성 |
