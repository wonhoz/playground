<Window x:Class="SoundBoard.Dialogs.EditButtonDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="버튼 편집" Width="440" Height="460"
        ResizeMode="NoResize" WindowStartupLocation="CenterOwner"
        Background="#1E1E1E" Foreground="#E0E0E0" ShowInTaskbar="False">
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>
        <Style x:Key="InputBox" TargetType="TextBox">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="CaretBrush" Value="#E0E0E0"/>
        </Style>
        <Style x:Key="Btn" TargetType="Button">
            <Setter Property="Background" Value="#8E44AD"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#A569BD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="GrayBtn" TargetType="Button" BasedOn="{StaticResource Btn}">
            <Setter Property="Background" Value="#3A3A3A"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#4A4A4A"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="RadioButton">
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="6,4"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 이름 + 이모지 -->
        <Grid Grid.Row="0" Margin="0,0,0,14">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="12"/>
                <ColumnDefinition Width="80"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0">
                <TextBlock Text="버튼 이름"/>
                <TextBox x:Name="NameBox" Style="{StaticResource InputBox}"/>
            </StackPanel>
            <StackPanel Grid.Column="2">
                <TextBlock Text="이모지"/>
                <TextBox x:Name="EmojiBox" Style="{StaticResource InputBox}" FontSize="20"
                         MaxLength="2" TextAlignment="Center"/>
            </StackPanel>
        </Grid>

        <!-- 오디오 소스 선택 -->
        <StackPanel Grid.Row="1" Margin="0,0,0,10">
            <TextBlock Text="오디오 소스"/>
            <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                <RadioButton x:Name="BuiltInRadio" Content="내장 사운드" IsChecked="True"
                             Checked="Source_Changed" Margin="0,0,16,0"/>
                <RadioButton x:Name="FileRadio" Content="파일 선택"
                             Checked="Source_Changed"/>
            </StackPanel>
        </StackPanel>

        <!-- 내장 사운드 선택 -->
        <StackPanel Grid.Row="2" x:Name="BuiltInPanel" Margin="0,0,0,14">
            <TextBlock Text="내장 사운드"/>
            <ComboBox x:Name="BuiltInCombo" SelectionChanged="BuiltIn_Changed"/>
        </StackPanel>

        <!-- 파일 선택 -->
        <Grid Grid.Row="3" x:Name="FilePanel" Visibility="Collapsed" Margin="0,0,0,14">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0">
                <TextBlock Text="오디오 파일 (MP3 / WAV / 기타)"/>
                <TextBox x:Name="FilePathBox" Style="{StaticResource InputBox}" IsReadOnly="True"/>
            </StackPanel>
            <Button Grid.Column="2" Content="찾아보기" Style="{StaticResource GrayBtn}"
                    VerticalAlignment="Bottom" Click="Browse_Click"/>
        </Grid>

        <!-- 단축키 -->
        <StackPanel Grid.Row="4" Margin="0,0,0,14">
            <TextBlock Text="전역 단축키 (클릭 후 키 입력 · Backspace로 제거)"/>
            <TextBox x:Name="HotkeyBox" Style="{StaticResource InputBox}" IsReadOnly="True"
                     Cursor="Hand" PreviewKeyDown="Hotkey_KeyDown"
                     GotFocus="Hotkey_GotFocus" LostFocus="Hotkey_LostFocus"
                     Focusable="True"/>
        </StackPanel>

        <!-- 색상 선택 -->
        <StackPanel Grid.Row="5">
            <TextBlock Text="버튼 색상"/>
            <WrapPanel x:Name="ColorPanel" Margin="0,6,0,0"/>
        </StackPanel>

        <!-- OK / Cancel -->
        <Grid Grid.Row="6" Margin="0,16,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Button Grid.Column="0" Content="저장" Style="{StaticResource Btn}" Click="Ok_Click"/>
            <Button Grid.Column="2" Content="취소" Style="{StaticResource GrayBtn}" Click="Cancel_Click"/>
        </Grid>
    </Grid>
</Window>
