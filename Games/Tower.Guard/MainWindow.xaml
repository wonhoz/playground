<Window x:Class="TowerGuard.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Tower.Guard" Width="800" Height="700"
        ResizeMode="NoResize"
        Background="#0A0A1E" Foreground="#E0E0E0"
        WindowStartupLocation="CenterScreen"
        KeyDown="Window_KeyDown"
        MouseLeftButtonDown="Window_MouseLeftDown"
        MouseRightButtonDown="Window_MouseRightDown"
        Focusable="True">
    <Grid>
        <!-- Game Canvas -->
        <Canvas x:Name="GameCanvas" Background="#0A0A1E" ClipToBounds="True"
                Margin="0,50,0,0" Width="640" Height="448"
                HorizontalAlignment="Left" VerticalAlignment="Top"/>

        <!-- HUD Top Bar -->
        <Grid x:Name="HudPanel" Height="48" VerticalAlignment="Top" Background="#12122A" Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Gold -->
            <StackPanel Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                <TextBlock Text="GOLD: " FontSize="14" FontWeight="Bold" Foreground="#888888" FontFamily="Consolas"/>
                <TextBlock x:Name="GoldText" Text="200" FontSize="14" FontWeight="Bold" Foreground="#FFD700" FontFamily="Consolas"/>
            </StackPanel>

            <!-- Lives -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                <TextBlock Text="LIVES: " FontSize="14" FontWeight="Bold" Foreground="#888888" FontFamily="Consolas"/>
                <TextBlock x:Name="LivesText" Text="20" FontSize="14" FontWeight="Bold" Foreground="#FF66AA" FontFamily="Consolas"/>
            </StackPanel>

            <!-- Wave -->
            <StackPanel Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Center" Orientation="Horizontal">
                <TextBlock Text="WAVE: " FontSize="14" FontWeight="Bold" Foreground="#888888" FontFamily="Consolas"/>
                <TextBlock x:Name="WaveText" Text="0/10" FontSize="14" FontWeight="Bold" Foreground="#00FFCC" FontFamily="Consolas"/>
            </StackPanel>

            <!-- Wave Timer -->
            <StackPanel Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock x:Name="WaveTimerText" Text="" FontSize="12" Foreground="#888888"
                           FontFamily="Consolas" HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <!-- Tower Selection Panel (right side) -->
        <StackPanel x:Name="TowerPanel" Width="150" HorizontalAlignment="Right" VerticalAlignment="Top"
                    Margin="0,54,4,0" Visibility="Collapsed">
            <TextBlock Text="TOWERS" FontSize="14" FontWeight="Bold" Foreground="#E0E0E0"
                       FontFamily="Consolas" HorizontalAlignment="Center" Margin="0,4"/>

            <Border x:Name="ArrowBtn" Background="#1A2A1A" BorderBrush="#2ECC71" BorderThickness="1"
                    CornerRadius="4" Margin="4,2" Padding="6,4" Cursor="Hand"
                    MouseLeftButtonDown="TowerBtn_Click" Tag="Arrow">
                <StackPanel>
                    <TextBlock Text="[1] Arrow" FontSize="12" FontWeight="Bold" Foreground="#2ECC71" FontFamily="Consolas"/>
                    <TextBlock Text="50g | Fast, Low DMG" FontSize="9" Foreground="#888888" FontFamily="Consolas"/>
                </StackPanel>
            </Border>

            <Border x:Name="CannonBtn" Background="#2A1A1A" BorderBrush="#E74C3C" BorderThickness="1"
                    CornerRadius="4" Margin="4,2" Padding="6,4" Cursor="Hand"
                    MouseLeftButtonDown="TowerBtn_Click" Tag="Cannon">
                <StackPanel>
                    <TextBlock Text="[2] Cannon" FontSize="12" FontWeight="Bold" Foreground="#E74C3C" FontFamily="Consolas"/>
                    <TextBlock Text="100g | Slow, AoE" FontSize="9" Foreground="#888888" FontFamily="Consolas"/>
                </StackPanel>
            </Border>

            <Border x:Name="IceBtn" Background="#1A1A2A" BorderBrush="#3A86FF" BorderThickness="1"
                    CornerRadius="4" Margin="4,2" Padding="6,4" Cursor="Hand"
                    MouseLeftButtonDown="TowerBtn_Click" Tag="Ice">
                <StackPanel>
                    <TextBlock Text="[3] Ice" FontSize="12" FontWeight="Bold" Foreground="#3A86FF" FontFamily="Consolas"/>
                    <TextBlock Text="75g | Slows Enemies" FontSize="9" Foreground="#888888" FontFamily="Consolas"/>
                </StackPanel>
            </Border>

            <Border x:Name="LightningBtn" Background="#2A2A1A" BorderBrush="#FFD700" BorderThickness="1"
                    CornerRadius="4" Margin="4,2" Padding="6,4" Cursor="Hand"
                    MouseLeftButtonDown="TowerBtn_Click" Tag="Lightning">
                <StackPanel>
                    <TextBlock Text="[4] Lightning" FontSize="12" FontWeight="Bold" Foreground="#FFD700" FontFamily="Consolas"/>
                    <TextBlock Text="150g | Chain x3" FontSize="9" Foreground="#888888" FontFamily="Consolas"/>
                </StackPanel>
            </Border>

            <!-- Selected tower indicator -->
            <Border Background="#1A1A2E" CornerRadius="4" Margin="4,8" Padding="6,4">
                <TextBlock x:Name="SelectedTowerText" Text="Select a tower" FontSize="10"
                           Foreground="#666666" FontFamily="Consolas" HorizontalAlignment="Center"/>
            </Border>
        </StackPanel>

        <!-- Tower Context Menu (upgrade/sell) -->
        <Border x:Name="TowerContextMenu" Background="#1A1A2E" BorderBrush="#3A3A4A" BorderThickness="1"
                CornerRadius="6" Padding="8" Visibility="Collapsed" Width="160"
                HorizontalAlignment="Left" VerticalAlignment="Top">
            <StackPanel>
                <TextBlock x:Name="ContextTowerName" Text="" FontSize="12" FontWeight="Bold"
                           Foreground="#E0E0E0" FontFamily="Consolas" HorizontalAlignment="Center"/>
                <TextBlock x:Name="ContextTowerStats" Text="" FontSize="10"
                           Foreground="#888888" FontFamily="Consolas" Margin="0,4"/>
                <Border x:Name="UpgradeBtn" Background="#1A2A1A" BorderBrush="#2ECC71" BorderThickness="1"
                        CornerRadius="4" Margin="0,4" Padding="6,3" Cursor="Hand"
                        MouseLeftButtonDown="UpgradeBtn_Click">
                    <TextBlock x:Name="UpgradeBtnText" Text="Upgrade" FontSize="11" FontWeight="Bold"
                               Foreground="#2ECC71" FontFamily="Consolas" HorizontalAlignment="Center"/>
                </Border>
                <Border Background="#2A1A1A" BorderBrush="#E74C3C" BorderThickness="1"
                        CornerRadius="4" Margin="0,2" Padding="6,3" Cursor="Hand"
                        MouseLeftButtonDown="SellBtn_Click">
                    <TextBlock x:Name="SellBtnText" Text="Sell" FontSize="11" FontWeight="Bold"
                               Foreground="#E74C3C" FontFamily="Consolas" HorizontalAlignment="Center"/>
                </Border>
                <Border Background="#1A1A2E" BorderBrush="#666666" BorderThickness="1"
                        CornerRadius="4" Margin="0,2" Padding="6,3" Cursor="Hand"
                        MouseLeftButtonDown="CloseContextMenu_Click">
                    <TextBlock Text="Close" FontSize="11" Foreground="#888888"
                               FontFamily="Consolas" HorizontalAlignment="Center"/>
                </Border>
            </StackPanel>
        </Border>

        <!-- Title Screen -->
        <StackPanel x:Name="TitlePanel" VerticalAlignment="Center" HorizontalAlignment="Center">
            <TextBlock Text="TOWER.GUARD" FontSize="44" FontWeight="Bold"
                       Foreground="#FFD700" HorizontalAlignment="Center" FontFamily="Consolas">
                <TextBlock.Effect>
                    <DropShadowEffect Color="#FF8800" BlurRadius="25" ShadowDepth="0"/>
                </TextBlock.Effect>
            </TextBlock>
            <TextBlock Text="TOWER DEFENSE" FontSize="13" Foreground="#888888"
                       HorizontalAlignment="Center" Margin="0,4,0,0" FontFamily="Consolas"/>
            <TextBlock Text="[ ENTER to Start ]" FontSize="16" Foreground="#00FFCC"
                       HorizontalAlignment="Center" Margin="0,32,0,0" FontFamily="Consolas">
                <TextBlock.Effect>
                    <DropShadowEffect Color="#00FFCC" BlurRadius="10" ShadowDepth="0"/>
                </TextBlock.Effect>
            </TextBlock>
            <TextBlock FontSize="12" Foreground="#666666" HorizontalAlignment="Center"
                       Margin="0,20,0,0" FontFamily="Consolas" TextAlignment="Center">
                <Run Text="Click tile to place tower"/>
                <LineBreak/>
                <Run Text="Right-click tower to upgrade/sell"/>
                <LineBreak/>
                <Run Text="1/2/3/4 select tower type"/>
                <LineBreak/>
                <Run Text="SPACE start wave early"/>
                <LineBreak/>
                <Run Text="ESC back to title"/>
            </TextBlock>
        </StackPanel>

        <!-- Victory Screen -->
        <Border x:Name="VictoryOverlay" Background="#CC000000" Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="VICTORY!" FontSize="48" FontWeight="Bold"
                           Foreground="#FFD700" HorizontalAlignment="Center" FontFamily="Consolas">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#FFD700" BlurRadius="25" ShadowDepth="0"/>
                    </TextBlock.Effect>
                </TextBlock>
                <TextBlock Text="All waves defended!" FontSize="16" Foreground="#00FFCC"
                           HorizontalAlignment="Center" Margin="0,8,0,0" FontFamily="Consolas"/>
                <TextBlock x:Name="VictoryStatsText" Text="" FontSize="14" Foreground="#888888"
                           HorizontalAlignment="Center" Margin="0,8,0,0" FontFamily="Consolas"/>
                <TextBlock Text="[ ENTER to Restart ]" FontSize="16" Foreground="#888888"
                           HorizontalAlignment="Center" Margin="0,30,0,0" FontFamily="Consolas"/>
            </StackPanel>
        </Border>

        <!-- Game Over Screen -->
        <Border x:Name="GameOverOverlay" Background="#CC000000" Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="GAME OVER" FontSize="48" FontWeight="Bold"
                           Foreground="#E74C3C" HorizontalAlignment="Center" FontFamily="Consolas">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#FF0000" BlurRadius="25" ShadowDepth="0"/>
                    </TextBlock.Effect>
                </TextBlock>
                <TextBlock x:Name="GameOverWaveText" Text="" FontSize="16" Foreground="#888888"
                           HorizontalAlignment="Center" Margin="0,8,0,0" FontFamily="Consolas"/>
                <TextBlock Text="[ ENTER to Retry ]" FontSize="16" Foreground="#888888"
                           HorizontalAlignment="Center" Margin="0,30,0,0" FontFamily="Consolas"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
