<Application x:Class="ApiProbe.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
  <Application.Resources>
    <!-- ── 색상 팔레트 ─────────────────────────────────────────── -->
    <Color x:Key="AccentColor">#14B8A6</Color>
    <Color x:Key="Bg0Color">#0F0F17</Color>
    <Color x:Key="Bg1Color">#1A1A2E</Color>
    <Color x:Key="Bg2Color">#16213E</Color>
    <Color x:Key="Bg3Color">#242444</Color>
    <Color x:Key="FgColor">#E0E0E0</Color>
    <Color x:Key="FgDimColor">#888888</Color>
    <Color x:Key="BorderColor">#333355</Color>
    <Color x:Key="HoverColor">#1E1E38</Color>

    <SolidColorBrush x:Key="AccentBrush"   Color="{StaticResource AccentColor}"/>
    <SolidColorBrush x:Key="Bg0Brush"      Color="{StaticResource Bg0Color}"/>
    <SolidColorBrush x:Key="Bg1Brush"      Color="{StaticResource Bg1Color}"/>
    <SolidColorBrush x:Key="Bg2Brush"      Color="{StaticResource Bg2Color}"/>
    <SolidColorBrush x:Key="Bg3Brush"      Color="{StaticResource Bg3Color}"/>
    <SolidColorBrush x:Key="FgBrush"       Color="{StaticResource FgColor}"/>
    <SolidColorBrush x:Key="FgDimBrush"    Color="{StaticResource FgDimColor}"/>
    <SolidColorBrush x:Key="BorderBrush2"  Color="{StaticResource BorderColor}"/>
    <SolidColorBrush x:Key="HoverBrush"    Color="{StaticResource HoverColor}"/>

    <!-- ── TextBox ───────────────────────────────────────────── -->
    <Style TargetType="TextBox">
      <Setter Property="Background"        Value="{StaticResource Bg3Brush}"/>
      <Setter Property="Foreground"        Value="{StaticResource FgBrush}"/>
      <Setter Property="CaretBrush"        Value="{StaticResource AccentBrush}"/>
      <Setter Property="BorderThickness"   Value="1"/>
      <Setter Property="Padding"           Value="8,5"/>
      <Setter Property="FontFamily"        Value="Consolas"/>
      <Setter Property="FontSize"          Value="13"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TextBox">
            <Border x:Name="border"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{StaticResource BorderBrush2}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="5">
              <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsFocused" Value="True">
                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── Button ────────────────────────────────────────────── -->
    <Style TargetType="Button">
      <Setter Property="Background"      Value="{StaticResource Bg3Brush}"/>
      <Setter Property="Foreground"      Value="{StaticResource FgBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="BorderBrush"     Value="{StaticResource BorderBrush2}"/>
      <Setter Property="Padding"         Value="12,6"/>
      <Setter Property="FontSize"        Value="13"/>
      <Setter Property="Cursor"          Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border x:Name="bd"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="5"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="bd" Property="Background" Value="{StaticResource HoverBrush}"/>
                <Setter TargetName="bd" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter TargetName="bd" Property="Background" Value="{StaticResource Bg1Brush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── Accent Button ─────────────────────────────────────── -->
    <Style x:Key="AccentButton" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
      <Setter Property="Background"  Value="{StaticResource AccentBrush}"/>
      <Setter Property="Foreground"  Value="#0F0F17"/>
      <Setter Property="FontWeight"  Value="SemiBold"/>
      <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
    </Style>

    <!-- ── ComboBox ───────────────────────────────────────────── -->
    <Style TargetType="ComboBox">
      <Setter Property="Background"        Value="{StaticResource Bg3Brush}"/>
      <Setter Property="Foreground"        Value="{StaticResource FgBrush}"/>
      <Setter Property="BorderBrush"       Value="{StaticResource BorderBrush2}"/>
      <Setter Property="BorderThickness"   Value="1"/>
      <Setter Property="Padding"           Value="8,5"/>
      <Setter Property="FontSize"          Value="13"/>
      <Setter Property="Cursor"            Value="Hand"/>
      <Setter Property="ItemContainerStyle">
        <Setter.Value>
          <Style TargetType="ComboBoxItem">
            <Setter Property="Background" Value="{StaticResource Bg2Brush}"/>
            <Setter Property="Foreground" Value="{StaticResource FgBrush}"/>
            <Setter Property="Padding"    Value="10,6"/>
            <Setter Property="Cursor"     Value="Hand"/>
            <Setter Property="Template">
              <Setter.Value>
                <ControlTemplate TargetType="ComboBoxItem">
                  <Border x:Name="bd"
                          Background="{TemplateBinding Background}"
                          Padding="{TemplateBinding Padding}">
                    <ContentPresenter/>
                  </Border>
                  <ControlTemplate.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                      <Setter TargetName="bd" Property="Background" Value="{StaticResource Bg3Brush}"/>
                    </Trigger>
                    <Trigger Property="IsSelected" Value="True">
                      <Setter TargetName="bd" Property="Background" Value="{StaticResource AccentBrush}"/>
                      <Setter Property="Foreground" Value="#0F0F17"/>
                    </Trigger>
                  </ControlTemplate.Triggers>
                </ControlTemplate>
              </Setter.Value>
            </Setter>
          </Style>
        </Setter.Value>
      </Setter>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ComboBox">
            <Grid>
              <Border x:Name="border"
                      Background="{TemplateBinding Background}"
                      BorderBrush="{TemplateBinding BorderBrush}"
                      BorderThickness="{TemplateBinding BorderThickness}"
                      CornerRadius="5">
                <Grid>
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="28"/>
                  </Grid.ColumnDefinitions>
                  <ContentPresenter Grid.Column="0"
                                    Content="{TemplateBinding SelectionBoxItem}"
                                    ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    IsHitTestVisible="False"/>
                  <Path Grid.Column="1" Data="M 0 0 L 6 6 L 12 0"
                        Stroke="{StaticResource FgDimBrush}" StrokeThickness="1.5"
                        HorizontalAlignment="Center" VerticalAlignment="Center"
                        IsHitTestVisible="False"/>
                </Grid>
              </Border>
              <!-- 드롭다운 열기를 위한 투명 ToggleButton (전체 영역 커버) -->
              <ToggleButton Focusable="False"
                            IsChecked="{Binding IsDropDownOpen, Mode=TwoWay,
                                RelativeSource={RelativeSource TemplatedParent}}">
                <ToggleButton.Template>
                  <ControlTemplate TargetType="ToggleButton">
                    <Border Background="Transparent"/>
                  </ControlTemplate>
                </ToggleButton.Template>
              </ToggleButton>
              <Popup x:Name="PART_Popup"
                     AllowsTransparency="True"
                     IsOpen="{TemplateBinding IsDropDownOpen}"
                     Placement="Bottom"
                     PlacementTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}">
                <Border Background="{StaticResource Bg2Brush}"
                        BorderBrush="{StaticResource AccentBrush}"
                        BorderThickness="1"
                        CornerRadius="5"
                        MinWidth="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=ComboBox}}">
                  <ScrollViewer MaxHeight="300">
                    <ItemsPresenter/>
                  </ScrollViewer>
                </Border>
              </Popup>
            </Grid>
            <ControlTemplate.Triggers>
              <Trigger Property="IsDropDownOpen" Value="True">
                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
              </Trigger>
              <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Opacity" Value="0.5"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── CheckBox ───────────────────────────────────────────── -->
    <Style TargetType="CheckBox">
      <Setter Property="Foreground" Value="{StaticResource FgBrush}"/>
      <Setter Property="FontSize"   Value="13"/>
      <Setter Property="Cursor"     Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="CheckBox">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
              <Border x:Name="box" Width="16" Height="16" CornerRadius="3"
                      BorderThickness="1.5"
                      BorderBrush="{StaticResource BorderBrush2}"
                      Background="Transparent">
                <Path x:Name="tick"
                      Data="M 2 8 L 6 12 L 14 4"
                      Stroke="{StaticResource AccentBrush}"
                      StrokeThickness="2"
                      Visibility="Collapsed"/>
              </Border>
              <ContentPresenter Margin="6,0,0,0" VerticalAlignment="Center"
                                RecognizesAccessKey="True"/>
            </StackPanel>
            <ControlTemplate.Triggers>
              <Trigger Property="IsChecked" Value="True">
                <Setter TargetName="box"  Property="BorderBrush"  Value="{StaticResource AccentBrush}"/>
                <Setter TargetName="tick" Property="Visibility"   Value="Visible"/>
              </Trigger>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="box" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── ScrollBar ─────────────────────────────────────────── -->
    <Style TargetType="ScrollBar">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ScrollBar">
            <Grid>
              <Track x:Name="PART_Track" IsDirectionReversed="True">
                <Track.DecreaseRepeatButton>
                  <RepeatButton Command="ScrollBar.LineUpCommand" Opacity="0" Height="0"/>
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                  <Thumb>
                    <Thumb.Template>
                      <ControlTemplate TargetType="Thumb">
                        <Border Background="#444466" CornerRadius="3" Margin="2"/>
                      </ControlTemplate>
                    </Thumb.Template>
                  </Thumb>
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                  <RepeatButton Command="ScrollBar.LineDownCommand" Opacity="0" Height="0"/>
                </Track.IncreaseRepeatButton>
              </Track>
            </Grid>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
      <Style.Triggers>
        <Trigger Property="Orientation" Value="Vertical">
          <Setter Property="Width" Value="6"/>
        </Trigger>
        <Trigger Property="Orientation" Value="Horizontal">
          <Setter Property="Height" Value="6"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <!-- ── ScrollViewer ──────────────────────────────────────── -->
    <Style TargetType="ScrollViewer">
      <Setter Property="Background" Value="Transparent"/>
    </Style>

    <!-- ── ListBox ───────────────────────────────────────────── -->
    <Style TargetType="ListBox">
      <Setter Property="Background"      Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Foreground"      Value="{StaticResource FgBrush}"/>
      <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
    </Style>

    <Style TargetType="ListBoxItem">
      <Setter Property="Background"  Value="Transparent"/>
      <Setter Property="Foreground"  Value="{StaticResource FgBrush}"/>
      <Setter Property="Padding"     Value="10,6"/>
      <Setter Property="FontSize"    Value="13"/>
      <Setter Property="Cursor"      Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ListBoxItem">
            <Border x:Name="bd"
                    Background="{TemplateBinding Background}"
                    CornerRadius="4" Margin="0,1">
              <ContentPresenter Margin="{TemplateBinding Padding}"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="bd" Property="Background" Value="{StaticResource HoverBrush}"/>
              </Trigger>
              <Trigger Property="IsSelected" Value="True">
                <Setter TargetName="bd" Property="Background" Value="{StaticResource Bg3Brush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── TabControl ────────────────────────────────────────── -->
    <Style TargetType="TabControl">
      <Setter Property="Background"      Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
    </Style>

    <Style TargetType="TabItem">
      <Setter Property="Foreground"      Value="{StaticResource FgDimBrush}"/>
      <Setter Property="FontSize"        Value="13"/>
      <Setter Property="Padding"         Value="14,8"/>
      <Setter Property="Background"      Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Cursor"          Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TabItem">
            <Border x:Name="bd" Padding="{TemplateBinding Padding}"
                    BorderThickness="0,0,0,2"
                    BorderBrush="Transparent">
              <TextBlock Text="{TemplateBinding Header}"
                         Foreground="{TemplateBinding Foreground}"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsSelected" Value="True">
                <Setter TargetName="bd" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource AccentBrush}"/>
              </Trigger>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Foreground" Value="{StaticResource FgBrush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- ── DataGrid ───────────────────────────────────────────── -->
    <Style TargetType="DataGrid">
      <Setter Property="Background"              Value="Transparent"/>
      <Setter Property="Foreground"              Value="{StaticResource FgBrush}"/>
      <Setter Property="BorderThickness"         Value="0"/>
      <Setter Property="RowBackground"           Value="Transparent"/>
      <Setter Property="AlternatingRowBackground" Value="#14141E"/>
      <Setter Property="GridLinesVisibility"     Value="None"/>
      <Setter Property="HeadersVisibility"       Value="Column"/>
      <Setter Property="SelectionMode"           Value="Single"/>
      <Setter Property="AutoGenerateColumns"     Value="False"/>
      <Setter Property="CanUserReorderColumns"   Value="False"/>
      <Setter Property="CanUserResizeRows"       Value="False"/>
    </Style>

    <Style TargetType="DataGridColumnHeader">
      <Setter Property="Background"   Value="{StaticResource Bg1Brush}"/>
      <Setter Property="Foreground"   Value="{StaticResource FgDimBrush}"/>
      <Setter Property="Padding"      Value="8,6"/>
      <Setter Property="FontSize"     Value="12"/>
      <Setter Property="BorderBrush"  Value="{StaticResource BorderBrush2}"/>
      <Setter Property="BorderThickness" Value="0,0,0,1"/>
    </Style>

    <Style TargetType="DataGridRow">
      <Setter Property="Background" Value="Transparent"/>
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
        </Trigger>
        <Trigger Property="IsSelected" Value="True">
          <Setter Property="Background" Value="{StaticResource Bg3Brush}"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <Style TargetType="DataGridCell">
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding"         Value="8,4"/>
      <Setter Property="Background"      Value="Transparent"/>
      <Style.Triggers>
        <Trigger Property="IsSelected" Value="True">
          <Setter Property="Background" Value="Transparent"/>
          <Setter Property="Foreground" Value="{StaticResource FgBrush}"/>
        </Trigger>
      </Style.Triggers>
    </Style>
  </Application.Resources>
</Application>
